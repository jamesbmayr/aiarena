<!DOCTYPE html>
<html>
	<head>
		<title>ai_arenas.<% data.name || "robots" %></title>
		<link rel="shortcut icon" type="image/png" href="logo.png"/>
		<link rel="stylesheet" type="text/css" href="<% assets('bootstrap') %>"/>
		<link rel="stylesheet" type="text/css" href="../../robots/stylesheet.css"/>
		<% colors(session); %>
		<script type="text/javascript" src="<% assets('jquery') %>"></script>
		<script type="text/javascript" src="../../robots/script.js"></script>
	</head>
	<body>
		<% navbar(session); %>
		<div class="container" value="<% data.id %>">
			<div class="top_outer">
				<div class="top_inner">
					<div class="section">
						<span class="field_frame" id="name_frame"><span class="field whitetext header" id="name" value="<% data.name %>"><% data.name %></span></span> <span class="graytext" id="message_top"></span> <span class='message graytext'></span>
					</div>
					<div class="indented">
						<%
							if ((session.human !== null) && (session.human.id === data.human.id)) {
								"<div class='megasection'><div class='section'>\
									<button id='robot_edit'><span class='whitetext'>.</span><span class='greentext'>edit</span><span class='whitetext'>();</span></button>\
								</div>\
								<div class='section'>\
									<button id='robot_save' style='display: none'><span class='whitetext'>.</span><span class='greentext'>save</span><span class='whitetext'>();</span></button>\
								</div>\
								<div class='section'>\
									<button id='robot_confirm_delete' style='display: none'><span class='whitetext'>.</span><span class='greentext'>confirm_delete</span><span class='whitetext'>();</span></button>\
								</div>\
								<div class='section'>\
									<button id='robot_cancel' style='display: none'><span class='whitetext'>.</span><span class='greentext'>cancel</span><span class='whitetext'>();</span></button>\
								</div>\
								<div class='section'>\
									<button id='robot_delete' style='display: none'><span class='whitetext'>.</span><span class='greentext'>delete</span><span class='whitetext'>();</span></button>\
								</div></div>";
							}
						%>
					</div>
					<hr>
				</div>
			</div>
			<div class="content indented">
				<span class="glyphicon glyphicon-chevron-down section-toggle section-toggle-down whitetext"></span>
				<hr>
				<div class="megasection">
					<div class="section">
						<span class="whitetext">.human</span><span class="redtext"> = </span><a class="bluetext" id="human" href="../../../../humans/<% data.human.name %>"><% data.human.name %></a>
						<span class="whitetext">;</span>
					</div>
					<div class="section">
						<span class="whitetext">.created</span><span class="redtext"> = </span><span class="purpletext"><% new Date(data.created).toLocaleString(); %></span>
						<span class="whitetext">;</span>
					</div>
					<div class="section">
						<span class="whitetext">.statistics</span><span class="redtext"> = </span><span class="whitetext">{</span>
							<span class="whitetext">wins: </span><span class="purpletext"><% Object.keys(data.statistics.wins).length || 0 %></span><span class='whitetext'>,</span>
							<span class="whitetext">losses: </span><span class="purpletext"><% Object.keys(data.statistics.losses).length || 0 %></span>
						<span class="whitetext">};</span>
					</div>
				</div>
				<span class="glyphicon glyphicon-chevron-down section-toggle section-toggle-down whitetext"></span>
				<hr>
				<div class="megasection">
					<div class="section" id="avatar">
						<span class="whitetext">.avatar</span><span class="redtext"> = </span><span class="whitetext">{</span> <span class='message graytext'></span>
						<div class="indented">

<pre id="avatar_pre" monospace style="color: <% data.avatar.color || 'var(--white)' %>">
<span class="transparenttext">••••••</span><span class="avatar" id="avatar_antennae" value="<% data.avatar.antennae.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••' %>"><% data.avatar.antennae || "•••••" %></span><span class="transparenttext">•••••</span>
<span class="transparenttext">•</span><span class="avatar" id="avatar_left_hand" value="<% data.avatar.left_hand.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '••••' %>"><% data.avatar.left_hand || "••••" %></span><span class="transparenttext">•</span><span class="avatar" id="avatar_eyes" value="<% data.avatar.eyes.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••' %>"><% data.avatar.eyes || "•••••" %></span><span class="transparenttext">•••••</span>
<span class="transparenttext">•</span><span class="avatar" id="avatar_left_wrist" value="<% data.avatar.left_wrist.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '••••' %>"><% data.avatar.left_wrist || "••••" %></span><span class="transparenttext">•</span><span class="avatar" id="avatar_mouth" value="<% data.avatar.mouth.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••' %>"><% data.avatar.mouth || "•••••" %></span><span class="transparenttext">•••••</span>
<span class="transparenttext">•••</span><span class="avatar" id="avatar_left_shoulder_up">\</span><span class="avatar" id="avatar_left_arm" value="<% data.avatar.left_arm.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '••' %>"><% data.avatar.left_arm || "••" %></span><span class="avatar" id="avatar_torso_1" value="<% data.avatar.torso_1.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••' %>"><% data.avatar.torso_1 || "•••••" %></span><span class="avatar" id="avatar_right_arm" value="<% data.avatar.right_arm.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '••' %>"><% data.avatar.right_arm || "••" %></span><span class="avatar" id="avatar_right_shoulder_down">\</span><span class="transparenttext">••</span>
<span class="transparenttext">••••••</span><span class="avatar" id="avatar_torso_2" value="<% data.avatar.torso_2.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••' %>"><% data.avatar.torso_2 || "•••••" %></span><span class="transparenttext">•</span><span class="avatar" id="avatar_right_wrist" value="<% data.avatar.right_wrist.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '••' %>"><% data.avatar.right_wrist || "••" %></span>
<span class="transparenttext">••••••</span><span class="avatar" id="avatar_torso_3" value="<% data.avatar.torso_3.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••' %>"><% data.avatar.torso_3 || "•••••" %></span><span class="transparenttext">•</span><span class="avatar" id="avatar_right_hand" value="<% data.avatar.right_hand.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '••••' %>"><% data.avatar.right_hand || "••••" %></span>
<span class="transparenttext">•••••</span><span class="avatar" id="avatar_legs" value="<% data.avatar.legs.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••••••' %>"><% data.avatar.legs || "•••••••" %></span><span class="transparenttext">••••</span>
<span class="transparenttext">•••••</span><span class="avatar" id="avatar_left_foot" value="<% data.avatar.left_foot.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••' %>"><% data.avatar.left_foot || "•••" %></span><span class="transparenttext">•</span><span class="avatar" id="avatar_right_foot" value="<% data.avatar.right_foot.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;").replace(/\\/g,"\\\\").replace(/\</g,"&lt;").replace(/\>/g,"&gt;") || '•••' %>"><% data.avatar.right_foot || "•••" %></span><span class="transparenttext">••••</span>
</pre>
							<% 
								if ((session.human !== null) && (session.human.id === data.human.id)) {
									var display = '\<div id="avatar_selection" style="color:' + (data.avatar.color || 'var(--white)') + '">\
										<span class="transparenttext">••••••</span><select id="select_antennae" class="avatar_select">';
											
												var options = ascii_robot("antennae");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}
											
										display += '</select><span class="transparenttext">•••••</span>\
										<br>\
										<span class="transparenttext">•</span><select id="select_left_hand" class="avatar_select">';
											
												var options = ascii_robot("hand");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span class="transparenttext">•</span><select id="select_eyes" class="avatar_select">';
												
												var options = ascii_robot("eyes");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}
											
										display += '</select><span class="transparenttext">•••••</span>\
										<br>\
										<span class="transparenttext">•</span><select id="select_left_wrist" class="avatar_select">';

												var options = ascii_robot("wrist");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}
												
										display += '</select><span class="transparenttext">•</span><select id="select_mouth" class="avatar_select">';

												var options = ascii_robot("mouth");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span class="transparenttext">•••••</span>\
										<br>\
										<span class="transparenttext">•••</span><span>\\</span><select id="select_left_arm" class="avatar_select">';

												var options = ascii_robot("arm");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}
										
										display += '</select><select id="select_torso_1" class="avatar_select">';

												var options = ascii_robot("torso");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><select id="select_right_arm" class="avatar_select">';

												var options = ascii_robot("arm");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span>\\</span><span class="transparenttext">••</span>\
										<br>\
										<span class="transparenttext">••••••</span><select id="select_torso_2" class="avatar_select">';

												var options = ascii_robot("torso");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span class="transparenttext">•</span><select id="select_right_wrist" class="avatar_select">';

												var options = ascii_robot("wrist");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select>\
										<br>\
										<span class="transparenttext">••••••</span><select id="select_torso_3" class="avatar_select">';

												var options = ascii_robot("torso");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span class="transparenttext">•</span><select id="select_right_hand" class="avatar_select">';

												var options = ascii_robot("hand");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}
										
										display += '</select>\
										<br>\
										<span class="transparenttext">•••••</span><select id="select_legs" class="avatar_select">';

												var options = ascii_robot("legs");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}
										
										display += '</select><span class="transparenttext">••••</span>\
										<br>\
										<span class="transparenttext">•••••</span><select id="select_left_foot" class="avatar_select">';

												var options = ascii_robot("foot");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span class="transparenttext">•</span><select id="select_right_foot" class="avatar_select">';

												var options = ascii_robot("foot");
												for (var i = 0; i < options.length; i++) {
													display += "<option value='" + options[i] + "'>" + options[i] + "</option>";
												}

										display += '</select><span class="transparenttext">••••</span>\
									</div>';

									display || "";
								}
							%>
						</div>
						<span class="whitetext">}</span>
					</div>
					<% 
						if ((session.human !== null) && (session.human.id === data.human.id)) {
							var display = '<div class="section" id="avatar_color" style="display: none; color: ' + (data.avatar.color || 'var(--white)') + '">\
								<span class="whitetext">.color</span><span class="redtext"> = </span><select>\
									<option value="var(--white)">white</option>\
									<option value="var(--red)">red</option>\
									<option value="var(--orange)">orange</option>\
									<option value="var(--yellow)">yellow</option>\
									<option value="var(--green)">green</option>\
									<option value="var(--blue)">blue</option>\
									<option value="var(--purple)">purple</option>\
									<option value="var(--gray)">gray</option>\
								</select><span class="whitetext">;</span>\
							</div>';

							display = display.replace('"' + data.avatar.color + '"', '"' + data.avatar.color + '"' + " selected");

							display;
						}
					%>
				</div>
				<span class="glyphicon glyphicon-chevron-down section-toggle section-toggle-down whitetext"></span>
				<hr>
				<div class="megasection">
					<div class="section">
						<span class="whitetext">.bio</span><span class="redtext"> = </span><span class="yellowtext">"</span> <span class='message graytext'></span>
							<div class="indented">
								<div class="field_frame"><span class="field yellowtext" id="bio" value="<% data.information.bio.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;") || null %>"><% data.information.bio || null %></span></div>
							</div>
							<span class="yellowtext">"</span><span class="whitetext">;</span>
					</div>
				</div>
				<span class="glyphicon glyphicon-chevron-down section-toggle section-toggle-down whitetext"></span>
				<hr>
				<div class="megasection">
					<%
						if ((session.human !== null) && (session.human.id === data.human.id)) {
							if (data.show_code === "true") {
								var show_code_true = " selected";
								var show_code_false = "";
							}
							else if (data.show_code === "false") {
								var show_code_true = "";
								var show_code_false = " selected";
							}

							'<div class="section" id="robot_settings" style="display: none">\
								<span class="whitetext">.showCode</span><span class="redtext"> = </span>\
								<select id="show_code" class="purpletext">\
									<option value="true"' + show_code_true + '>true</option>\
									<option value="false"' + show_code_true + '>false</option>\
								</select>\
								<span class="whitetext">;</span> <span class="message graytext"></span>\
							<br><br>\
							</div>';
						}
					%>
					<div class="section">
						<% 
							if (((typeof data.show_code !== "undefined") && (data.show_code === "true")) || (session.human !== null) && (data.human.id === session.human.id)) {
								var code = data.code || " /* no code */ ";
								var inputs = data.inputs || "";
							} 
							else {
								var code = " /* hidden */ ";
								var inputs = "";
							}
						%>
						<span class="whitetext">.</span><span class="greentext">code</span><span class="redtext"> = </span><span class="bluetext">function</span><span class="whitetext">(</span><span class="field_frame"><span class="orangetext field" id="inputs" value='<% inputs.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;") || null %>'><% inputs %></span></span><span class="whitetext">) {</span> <span class='message graytext'></span>
						<div class="indented">
							<div class="field_frame">
								<span class="whitetext field" id="code" value='<% code.replace(/\"/g, "&#34;").replace(/\'/g, "&#39;") || null %>'><% code %></span>
							</div>
						</div>
						<span class="whitetext">};</span>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>